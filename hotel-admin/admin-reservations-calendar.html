<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar View - Tima Sara Hotel</title>
    <link rel="stylesheet" href="admin-style.css">
    <style>
.view-switcher {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
}

.view-btn {
    padding: 10px 20px;
    border: 2px solid #667eea;
    background: white;
    color: #667eea;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.view-btn:hover {
    background: #667eea;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
}

.view-btn.active {
    background: #667eea;
    color: white;
}

/* Calendar Styles */
.calendar-module {
    background: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.calendar-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #e2e8f0;
}

.nav-arrow {
    background: #667eea;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 18px;
    font-weight: bold;
    transition: all 0.3s ease;
}

.nav-arrow:hover {
    background: #5568d3;
    transform: scale(1.05);
}

.month-year {
    font-size: 24px;
    font-weight: 700;
    color: #1a365d;
}

.legend {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    font-weight: 600;
}

.color-box {
    width: 16px;
    height: 16px;
    border-radius: 3px;
    border: 1px solid #e2e8f0;
}

.color-box.available {
    background: white;
}

.color-box.confirmed {
    background: #48bb78;
}

.color-box.pending {
    background: #ed8936;
}

.color-box.checked-in {
    background: #4299e1;
}

.color-box.checked-out {
    background: #718096;
}

/* Calendar Grid */
.calendar-grid {
    overflow-x: auto;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
}

.calendar-table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
}

.calendar-table th {
    position: sticky;
    top: 0;
    background: linear-gradient(135deg, #1a365d, #2d3748);
    color: white;
    padding: 8px;
    border: 1px solid #e2e8f0;
    font-size: 11px;
    min-width: 80px;
    z-index: 15;
}

.calendar-table td {
    padding: 4px;
    border: 1px solid #e2e8f0;
    min-height: 60px;
    vertical-align: top;
    background: white;
}

/* Sticky room column */
.room-cell {
    position: sticky !important;
    left: 0 !important;
    background: white !important;
    z-index: 20 !important;
    font-weight: 700 !important;
    border-right: 3px solid #e2e8f0 !important;
    box-shadow: 2px 0 5px rgba(0,0,0,0.05) !important;
}

.calendar-table thead th:first-child {
    z-index: 25 !important;
}

/* Status badges */
.status-badge {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
}

.status-confirmed {
    background: #48bb78;
    color: white;
}

.status-pending {
    background: #ed8936;
    color: white;
}

.status-checked-in {
    background: #4299e1;
    color: white;
}

.status-checked-out {
    background: #718096;
    color: white;
}

.status-cancelled {
    background: #f56565;
    color: white;
}
</style>
</head>
<body>
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <a href="https://timasarahotel.com" target="_blank" style="text-decoration: none; color: inherit;">
            <img src="../images/tima_sara_logo.png" alt="Tima Sara Hotel" class="sidebar-logo">
            <div class="hotel-logo-small" style="cursor: pointer; transition: transform 0.3s ease;">
            </div>
            </a>
            <h2>TIMA SARA<br><span>HOTEL</span></h2>
        </div>

        <nav class="sidebar-nav">
            <a href="admin-dashboard.html" class="nav-item">
                <span class="nav-icon">üìä</span>
                <span>Dashboard</span>
            </a>
            <a href="admin-reservations.html" class="nav-item active">
                <span class="nav-icon">üìÖ</span>
                <span>Reservations</span>
            </a>
            <a href="admin-guests.html" class="nav-item">
                <span class="nav-icon">üë•</span>
                <span>Guests</span>
            </a>
            <a href="admin-rooms.html" class="nav-item">
                <span class="nav-icon">üè†</span>
                <span>Rooms</span>
            </a>
            <a href="admin-housekeeping.html" class="nav-item">
                <span class="nav-icon">üßπ</span>
                <span>Housekeeping</span>
            </a>
            <a href="admin-pos.html" class="nav-item">
                <span class="nav-icon">üçΩÔ∏è</span>
                <span>Restaurant & Bar</span>
            </a>
            <a href="admin-analytics.html" class="nav-item">
                <span class="nav-icon">üìà</span>
                <span>Analytics</span>
            </a>
            <a href="admin-reports.html" class="nav-item">
                <span class="nav-icon">üìã</span>
                <span>Reports</span>
            </a>
            <a href="admin-invoices.html" class="nav-item">
                <span class="nav-icon">üí∞</span>
                <span>Invoices</span>
            </a>
            <a href="admin-communications.html" class="nav-item">
                <span class="nav-icon">üìß</span>
                <span>Communications</span>
            </a>
            <a href="admin-settings.html" class="nav-item">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span>Settings</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button id="logoutBtn" class="logout-btn">
                <span class="nav-icon">üö™</span>
                <span>Logout</span>
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <header class="top-bar">
            <div class="top-bar-left">
                <h1 class="page-title">Reservations - Calendar View</h1>
            </div>
            <div class="top-bar-right">
                <div class="user-info">
                    <span class="user-icon">üë§</span>
                    <span class="user-name" id="userName">Welcome, Admin</span>
                </div>
            </div>
        </header>

        <!-- View Switcher -->
        <div class="view-switcher">
            <a href="admin-reservations.html" class="view-btn">
                üìã List View
            </a>
            <a href="admin-reservations-calendar.html" class="view-btn active">
                üóìÔ∏è Calendar View
            </a>
        </div>

        <div class="content-container">
            <div class="calendar-module">
                <!-- Calendar Navigation -->
                <div class="calendar-nav">
                    <button class="nav-arrow" id="prevMonth">&lt;</button>
                    <span class="month-year" id="monthYear">LOADING...</span>
                    <button class="nav-arrow" id="nextMonth">&gt;</button>
                    <div class="legend">
                        <span class="legend-item"><span class="color-box available"></span> Available</span>
                        <span class="legend-item"><span class="color-box confirmed"></span> Confirmed</span>
                        <span class="legend-item"><span class="color-box pending"></span> Pending</span>
                        <span class="legend-item"><span class="color-box checked-in"></span> Checked-In</span>
                        <span class="legend-item"><span class="color-box checked-out"></span> Checked-Out</span>
                    </div>
                </div>

                <!-- Calendar Grid (Generated by JavaScript) -->
                <div class="calendar-grid" id="calendarBody">
                    <div style="text-align: center; padding: 40px; color: #a0aec0;">
                        Loading calendar...
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/admin-script.js"></script>
    <script src="js/admin-reservations-calendar.js"></script>
</body>
</html>